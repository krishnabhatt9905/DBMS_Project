{% extends "base.html" %}

{% block title %}Investor Registration{% endblock %}

{% block extra_css %}
<style>
    .form-header {
        text-align: center;
        margin-bottom: 40px;
    }
    
    .form-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        box-shadow: 0 8px 24px rgba(30, 58, 138, 0.2);
    }
    
    .input-with-icon {
        position: relative;
    }
    
    .input-with-icon svg {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-light);
        pointer-events: none;
    }
    
    .input-with-icon input,
    .input-with-icon select {
        padding-left: 42px;
    }
</style>
{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <div class="form-header">
        <div class="form-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
            </svg>
        </div>
        <h1 style="font-family: 'Playfair Display', serif; font-size: 36px; color: var(--text-dark); margin-bottom: 12px;">Investor Registration</h1>
        <p style="color: var(--text-light); font-size: 16px;">Join our network and discover promising startups</p>
    </div>
</div>

<div class="card" style="max-width: 600px; margin: 0 auto;">
    <form method="POST" action="/investor/register">
        <div class="form-group">
            <label for="name">Investor Name / Firm *</label>
            <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <input type="text" id="name" name="name" required 
                       placeholder="e.g., Accel Partners" style="border: 1px solid var(--border-color);">
            </div>
        </div>
        
        <div class="form-group">
            <label for="email">Email *</label>
            <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                <input type="email" id="email" name="email" required 
                       placeholder="invest@yourfirm.com" style="border: 1px solid var(--border-color);">
            </div>
        </div>
        
        <div class="form-group">
            <label for="password">Password *</label>
            <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                <input type="password" id="password" name="password" required 
                       placeholder="Minimum 6 characters" style="border: 1px solid var(--border-color);">
            </div>
        </div>
        
        <div class="form-group">
            <label for="investment_min">Minimum Investment Amount (₹) *</label>
            <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="1" x2="12" y2="23"></line>
                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
                <input type="number" id="investment_min" name="investment_min" 
                       required min="100000" step="100000"
                       placeholder="e.g., 2000000 (20 Lakhs)" style="border: 1px solid var(--border-color);">
            </div>
        </div>
        
        <div class="form-group">
            <label for="investment_max">Maximum Investment Amount (₹) *</label>
            <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="1" x2="12" y2="23"></line>
                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
                <input type="number" id="investment_max" name="investment_max" 
                       required min="100000" step="100000"
                       placeholder="e.g., 10000000 (1 Crore)" style="border: 1px solid var(--border-color);">
            </div>
            <small style="color: var(--text-light); margin-left: 42px; display: block; margin-top: 4px;">Must be greater than or equal to minimum</small>
        </div>
        
        <div class="form-group">
            <label for="preferred_domains">Preferred Domains *</label>
            <select id="preferred_domains" name="preferred_domains" required multiple size="8">
                {% for domain in domains %}
                    <option value="{{ domain.domain_id }}">{{ domain.domain_name }}</option>
                {% endfor %}
            </select>
            <small style="color: #666;">Hold Ctrl/Cmd to select multiple domains</small>
        </div>
        
        <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone" 
                   placeholder="+91-9876543210">
        </div>
        
        <div class="form-group">
            <label for="location">Location *</label>
            <input type="text" id="location" name="location" required 
                   placeholder="e.g., Bangalore">
        </div>
        
        <div style="margin-top: 30px;">
            <button type="submit" class="btn">Register Investor</button>
            <a href="/investor/login" class="btn btn-secondary">Already registered? Login</a>
        </div>
    </form>
</div>

<script>
    // Convert multiple select to comma-separated string
    document.querySelector('form').addEventListener('submit', function(e) {
        const select = document.getElementById('preferred_domains');
        const selected = Array.from(select.selectedOptions).map(opt => opt.value);
        
        // Create hidden input with comma-separated values
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'preferred_domains';
        input.value = selected.join(',');
        
        // Replace select with hidden input
        select.name = '';
        this.appendChild(input);
    });
</script>

<div style="text-align: center; margin: 20px 0;">
    <a href="/">← Back to Home</a>
</div>
{% endblock %}

